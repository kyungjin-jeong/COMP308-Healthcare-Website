{"ast":null,"code":"var _jsxFileName = \"/Users/yeseul/workspace/COMP308-Healthcare-Website/react-ui/src/components/nurse/InsertPatientVital.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { withRouter } from 'react-router-dom';\nimport './Registration.css';\n\nfunction Registration(props) {\n  const [vital, setVital] = useState({\n    bodytemperature: '',\n    heartrate: '',\n    bloodpressure: '',\n    respiratoryrate: '',\n    visitedDate: ''\n  });\n  const [screen, setScreen] = useState('auth');\n  const [patientUsername, setPatientUsername] = useState();\n  console.log('props.screen', props.screen); //check if the user already logged-in\n\n  const readCookie = async () => {\n    try {\n      console.log('--- in readCookie function ---'); //\n\n      const res = await axios.get('/read_cookie'); // \n\n      if (res.data.screen !== undefined) {\n        setScreen(res.data.screen);\n        console.log(res.data.screen);\n        console.log(\"username\" + res.data.username);\n        setPatientUsername(res.data.username);\n      }\n    } catch (e) {\n      setScreen('auth');\n      console.log(e);\n    }\n  }; //runs the first time the view is rendered\n  //to check if user is signed in\n\n\n  useEffect(() => {\n    readCookie();\n  }, []); //only the first render\n\n  const [showLoading, setShowLoading] = useState(false);\n  const apiUrl = \"http://localhost:3000/savePatientVital\";\n\n  const saveUser = e => {\n    setShowLoading(true);\n    e.preventDefault();\n    const data = {\n      patientUsername: '5e93d3a266318fac9da28c8e',\n      bodytemperature: vital.bodytemperature,\n      heartrate: vital.heartrate,\n      bloodpressure: vital.bloodpressure,\n      respiratoryrate: vital.respiratoryrate,\n      visitedDate: vital.visitedDate\n    };\n    axios.post(apiUrl, data).then(result => {\n      setShowLoading(false);\n      props.history.push('/' + result.data._id);\n    }).catch(error => setShowLoading(false));\n  };\n\n  const onChange = e => {\n    e.persist();\n    console.log(e.target.value);\n    setVital({ ...vital,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, showLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"signUpForm\",\n    onSubmit: saveUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Body Temperature\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"bodytemperature\",\n    name: \"bodytemperature\",\n    value: vital.bodytemperature,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, \"Heart Rate\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"heartrate\",\n    name: \"heartrate\",\n    value: vital.heartrate,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, \"Body pressure\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"bodypressure\",\n    name: \"bodypressure\",\n    value: vital.bodypressure,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"Respiratory Rate\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"respiratoryrate\",\n    name: \"respiratoryrate\",\n    value: vital.respiratoryrate,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"emailInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"Visited Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"visitedDate\",\n    name: \"visitedDate\",\n    value: vital.visitedDate,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n}\n\nexport default withRouter(Registration);","map":{"version":3,"sources":["/Users/yeseul/workspace/COMP308-Healthcare-Website/react-ui/src/components/nurse/InsertPatientVital.js"],"names":["React","useState","useEffect","axios","Spinner","withRouter","Registration","props","vital","setVital","bodytemperature","heartrate","bloodpressure","respiratoryrate","visitedDate","screen","setScreen","patientUsername","setPatientUsername","console","log","readCookie","res","get","data","undefined","username","e","showLoading","setShowLoading","apiUrl","saveUser","preventDefault","post","then","result","history","push","_id","catch","error","onChange","persist","target","value","name","bodypressure"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { withRouter } from 'react-router-dom';\n\nimport './Registration.css'\n\n\nfunction Registration(props) {\n    const [vital, setVital]\n        = useState({\n            bodytemperature: '',\n            heartrate: '',\n            bloodpressure: '',\n            respiratoryrate: '',\n            visitedDate: ''\n        });\n\n    const [screen, setScreen] = useState('auth');\n    const [patientUsername, setPatientUsername] = useState();\n\n    console.log('props.screen', props.screen);\n    //check if the user already logged-in\n    const readCookie = async () => {\n        try {\n            console.log('--- in readCookie function ---');\n\n            //\n            const res = await axios.get('/read_cookie');\n            // \n            if (res.data.screen !== undefined) {\n                setScreen(res.data.screen);\n                console.log(res.data.screen)\n                console.log(\"username\" + res.data.username)\n                setPatientUsername(res.data.username)\n            }\n        } catch (e) {\n            setScreen('auth');\n            console.log(e);\n        }\n    };\n    //runs the first time the view is rendered\n    //to check if user is signed in\n    useEffect(() => {\n        readCookie();\n    }, []); //only the first render\n\n    const [showLoading, setShowLoading] = useState(false);\n    const apiUrl = \"http://localhost:3000/savePatientVital\";\n\n    const saveUser = (e) => {\n        setShowLoading(true);\n        e.preventDefault();\n        const data = {\n            patientUsername: '5e93d3a266318fac9da28c8e',\n            bodytemperature: vital.bodytemperature,\n            heartrate: vital.heartrate,\n            bloodpressure: vital.bloodpressure,\n            respiratoryrate: vital.respiratoryrate,\n            visitedDate: vital.visitedDate\n        };\n\n        axios.post(apiUrl, data)\n            .then((result) => {\n                setShowLoading(false);\n                props.history.push('/' + result.data._id)\n            }).catch((error) => setShowLoading(false));\n    };\n\n\n    const onChange = (e) => {\n        e.persist();\n        console.log(e.target.value)\n        setVital({ ...vital, [e.target.name]: e.target.value });\n    }\n\n\n\n    return (\n        <div>\n            {showLoading &&\n                <Spinner animation=\"border\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                </Spinner>\n            }\n\n            <div className=\"App\">\n                <br></br>\n\n                <form className=\"signUpForm\" onSubmit={saveUser}>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"name\">Body Temperature</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"bodytemperature\"\n                            name=\"bodytemperature\"\n                            value={vital.bodytemperature}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"name\">Heart Rate</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"heartrate\"\n                            name=\"heartrate\"\n                            value={vital.heartrate}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"name\">Body pressure</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"bodypressure\"\n                            name=\"bodypressure\"\n                            value={vital.bodypressure}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"name\">Respiratory Rate</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"respiratoryrate\"\n                            name=\"respiratoryrate\"\n                            value={vital.respiratoryrate}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"emailInput\">Visited Date</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"visitedDate\"\n                            name=\"visitedDate\"\n                            value={vital.visitedDate}\n                            onChange={onChange}\n\n                        />\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                        Submit\n                     </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default withRouter(Registration);\n"]},"metadata":{},"sourceType":"module"}