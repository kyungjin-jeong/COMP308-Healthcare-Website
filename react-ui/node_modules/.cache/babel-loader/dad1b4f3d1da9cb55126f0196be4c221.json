{"ast":null,"code":"var _jsxFileName = \"/Users/kyungjin/COMP308-Healthcare-Website/react-ui/src/components/nurse/DetailPatientInfo.js\";\nimport React, { useState, useEffect } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\n\nfunction DetailPatientInfo(props) {\n  const [data, setData] = useState([]);\n  const [screen, setScreen] = useState('auth');\n  const [patientUsername, setPatientUsername] = useState();\n  console.log('props.screen', props.screen);\n  const [showLoading, setShowLoading] = useState(false);\n  const apiUrl = \"http://localhost:3000/detailPatientInfo/\" + props.match.params.id;\n  ;\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    readCookie();\n    setShowLoading(false);\n\n    const fetchData = async () => {\n      const result = await axios(apiUrl);\n      console.log('results from students' + result.data);\n      setData(result.data);\n    };\n\n    fetchData();\n  }, []); //check if the user already logged-in\n\n  const readCookie = async () => {\n    try {\n      console.log('--- in readCookie function ---'); //\n\n      const res = await axios.get('/read_cookie'); // \n\n      if (res.data.screen !== undefined) {\n        setScreen(res.data.screen);\n        console.log(res.data.screen);\n        console.log(\"username::\" + res.data.username);\n        setPatientUsername(res.data.username);\n      }\n    } catch (e) {\n      setScreen('auth');\n      console.log(e);\n    }\n  };\n\n  const sendTip = () => {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Username: \", patientUsername), /*#__PURE__*/React.createElement(ListGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, data.map((item, idx) => /*#__PURE__*/React.createElement(ListGroup.Item, {\n    key: idx,\n    action: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, item._id, \" / \", item.bodytemperature, \" / \", item.heartrate, \" / \", item.bloodpressure, \" / \", item.respiratoryrate, \"  / \", item.visitedDate, \" / \", item.patient))), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"send daily motivational tips\"), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Send daily motivational tips to the patient !\")), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: sendTip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"exampleForm.ControlTextarea1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, \"Save Changes\"))))));\n}\n\nexport default withRouter(DetailPatientInfo);","map":{"version":3,"sources":["/Users/kyungjin/COMP308-Healthcare-Website/react-ui/src/components/nurse/DetailPatientInfo.js"],"names":["React","useState","useEffect","ListGroup","withRouter","axios","Button","Modal","Form","DetailPatientInfo","props","data","setData","screen","setScreen","patientUsername","setPatientUsername","console","log","showLoading","setShowLoading","apiUrl","match","params","id","show","setShow","handleClose","handleShow","readCookie","fetchData","result","res","get","undefined","username","e","sendTip","map","item","idx","_id","bodytemperature","heartrate","bloodpressure","respiratoryrate","visitedDate","patient"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;AAEA,SAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAC9B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,MAAD,CAApC;AACA,QAAM,CAACc,eAAD,EAAkBC,kBAAlB,IAAwCf,QAAQ,EAAtD;AAEAgB,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BR,KAAK,CAACG,MAAlC;AAEA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCnB,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAMoB,MAAM,GAAG,6CAA6CX,KAAK,CAACY,KAAN,CAAYC,MAAZ,CAAmBC,EAA/E;AAAkF;AAElF,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBzB,QAAQ,CAAC,KAAD,CAAhC;;AAEA,QAAM0B,WAAW,GAAG,MAAMD,OAAO,CAAC,KAAD,CAAjC;;AACA,QAAME,UAAU,GAAG,MAAMF,OAAO,CAAC,IAAD,CAAhC;;AAEAxB,EAAAA,SAAS,CAAC,MAAM;AACZ2B,IAAAA,UAAU;AACVT,IAAAA,cAAc,CAAC,KAAD,CAAd;;AACA,UAAMU,SAAS,GAAG,YAAY;AAC1B,YAAMC,MAAM,GAAG,MAAM1B,KAAK,CAACgB,MAAD,CAA1B;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAA0Ba,MAAM,CAACpB,IAA7C;AACAC,MAAAA,OAAO,CAACmB,MAAM,CAACpB,IAAR,CAAP;AACH,KAJD;;AAKAmB,IAAAA,SAAS;AACZ,GATQ,EASN,EATM,CAAT,CAf8B,CA2B9B;;AACA,QAAMD,UAAU,GAAG,YAAY;AAC3B,QAAI;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EADA,CAGA;;AACA,YAAMc,GAAG,GAAG,MAAM3B,KAAK,CAAC4B,GAAN,CAAU,cAAV,CAAlB,CAJA,CAKA;;AACA,UAAID,GAAG,CAACrB,IAAJ,CAASE,MAAT,KAAoBqB,SAAxB,EAAmC;AAC/BpB,QAAAA,SAAS,CAACkB,GAAG,CAACrB,IAAJ,CAASE,MAAV,CAAT;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYc,GAAG,CAACrB,IAAJ,CAASE,MAArB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAec,GAAG,CAACrB,IAAJ,CAASwB,QAApC;AACAnB,QAAAA,kBAAkB,CAACgB,GAAG,CAACrB,IAAJ,CAASwB,QAAV,CAAlB;AACH;AACJ,KAZD,CAYE,OAAOC,CAAP,EAAU;AACRtB,MAAAA,SAAS,CAAC,MAAD,CAAT;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYkB,CAAZ;AACH;AACJ,GAjBD;;AAmBA,QAAMC,OAAO,GAAG,MAAM,CAErB,CAFD;;AAIA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAetB,eAAf,CADJ,eAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,IAAI,CAAC2B,GAAL,CAAS,CAACC,IAAD,EAAOC,GAAP,kBACN,oBAAC,SAAD,CAAW,IAAX;AAAgB,IAAA,GAAG,EAAEA,GAArB;AAA0B,IAAA,MAAM,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,IAAI,CAACE,GADV,SACkBF,IAAI,CAACG,eADvB,SAC2CH,IAAI,CAACI,SADhD,SAC8DJ,IAAI,CAACK,aADnE,SACqFL,IAAI,CAACM,eAD1F,UAC+GN,IAAI,CAACO,WADpH,SACoIP,IAAI,CAACQ,OADzI,CADH,CADL,CAFJ,eAYI,uDACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,OAAO,EAAEnB,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,eAGI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEH,IAAb;AAAmB,IAAA,MAAM,EAAEE,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,MAAP;AAAc,IAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADJ,CADJ,eAII,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEU,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,8BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,EAAE,EAAC,UAAjB;AAA4B,IAAA,IAAI,EAAC,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,CADJ,eAOI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,OAAO,EAAEV,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,OAAO,EAAEA,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,CAPJ,CAJJ,CAHJ,CAZJ,CADJ;AAqCH;;AAED,eAAevB,UAAU,CAACK,iBAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\n\nfunction DetailPatientInfo(props) {\n    const [data, setData] = useState([]);\n    const [screen, setScreen] = useState('auth');\n    const [patientUsername, setPatientUsername] = useState();\n\n    console.log('props.screen', props.screen);\n\n    const [showLoading, setShowLoading] = useState(false);\n    const apiUrl = \"http://localhost:3000/detailPatientInfo/\" + props.match.params.id;;\n\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    useEffect(() => {\n        readCookie();\n        setShowLoading(false);\n        const fetchData = async () => {\n            const result = await axios(apiUrl);\n            console.log('results from students' + result.data);\n            setData(result.data);\n        };\n        fetchData();\n    }, []);\n\n\n    //check if the user already logged-in\n    const readCookie = async () => {\n        try {\n            console.log('--- in readCookie function ---');\n\n            //\n            const res = await axios.get('/read_cookie');\n            // \n            if (res.data.screen !== undefined) {\n                setScreen(res.data.screen);\n                console.log(res.data.screen)\n                console.log(\"username::\" + res.data.username)\n                setPatientUsername(res.data.username)\n            }\n        } catch (e) {\n            setScreen('auth');\n            console.log(e);\n        }\n    };\n\n    const sendTip = () => {\n\n    };\n\n    return (\n        <div>\n            <h2>Username: {patientUsername}</h2>\n            <ListGroup>\n                {data.map((item, idx) => (\n                    <ListGroup.Item key={idx} action >\n                        {item._id} / {item.bodytemperature} / {item.heartrate} / {item.bloodpressure} / {item.respiratoryrate}  / {item.visitedDate} / {item.patient}\n\n                    </ListGroup.Item>\n                ))}\n            </ListGroup>\n\n\n            <>\n                <Button variant=\"primary\" onClick={handleShow}>send daily motivational tips</Button>\n\n                <Modal show={show} onHide={handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Send daily motivational tips to the patient !</Modal.Title>\n                    </Modal.Header>\n                    <Form onSubmit={sendTip}>\n                        <Modal.Body>\n                            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                                {/* <Form.Label>Example textarea</Form.Label> */}\n                                <Form.Control as=\"textarea\" rows=\"5\" />\n                            </Form.Group>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>Close</Button>\n                            <Button variant=\"primary\" onClick={handleClose}>Save Changes</Button>\n                        </Modal.Footer>\n                    </Form>\n                </Modal>\n            </>\n        </div>\n    );\n\n}\n\nexport default withRouter(DetailPatientInfo);"]},"metadata":{},"sourceType":"module"}